{% extends "database.html" %}

{% block title %}Readlog — Add Book{% endblock %}

{% block content %}

<div class="page-title">Add a book</div>

{% if error %}
<div class="error-box">{{ error }}</div>
{% endif %}

<form method="post" action="/add">

    <!-- required row -->
    <div class="form-row" style="margin-bottom: 16px;">
        <div class="field">
            <label>ISBN <span class="req">*</span></label>
            <input type="text" name="isbn" placeholder="e.g. 978-0-452-28423-4" required>
            <span class="hint">Used as unique identifier</span>
        </div>
        <div class="field">
            <label>Title <span class="req">*</span></label>
            <input type="text" name="title" placeholder="Book title" required>
        </div>
    </div>

    <!-- author + publisher -->
    <div class="form-row" style="margin-bottom: 16px;">
        <div class="field">
            <label>Author <span class="req">*</span></label>
            <input type="text" name="author" placeholder="Author name" required>
        </div>
        <div class="field">
            <label>Publisher</label>
            <input type="text" name="publisher" placeholder="Publisher name">
        </div>
    </div>

    <!-- metadata row -->
    <div class="form-row" style="margin-bottom: 16px;">
        <div class="field">
            <label>Year</label>
            <input type="number" name="year" placeholder="Publication year">
        </div>
        <div class="field">
            <label>Genre</label>
            <input type="text" name="genre" placeholder="e.g. Fiction, Sci-Fi…">
        </div>
    </div>

    <!-- more metadata -->
    <div class="form-row" style="margin-bottom: 16px;">
        <div class="field">
            <label>Language</label>
            <input type="text" name="language" placeholder="e.g. English">
        </div>
        <div class="field">
            <label>Pages</label>
            <input type="number" name="pages" placeholder="Number of pages">
        </div>
    </div>

    <!-- reading info -->
    <div class="form-row" style="margin-bottom: 16px;">
        <div class="field">
            <label>Date read</label>
            <input type="date" name="date_read">
        </div>
        <div class="field">
            <label>Rating</label>
            <!-- star rating widget -->
            <div class="star-input">
                {% for i in range(5, 0, -1) %}
                <input type="radio" name="rating" id="star-{{ i }}" value="{{ i }}">
                <label for="star-{{ i }}">&#9733;</label>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- review (full width) -->
    <div class="form-row full" style="margin-bottom: 24px;">
        <div class="field">
            <label>Review</label>
            <textarea name="review" placeholder="Your thoughts on the book…"></textarea>
        </div>
    </div>

    <!-- submit -->
    <div style="display: flex; gap: 10px;">
        <button type="submit" class="btn btn-primary">Save book</button>
        <a href="/" class="btn btn-ghost">Cancel</a>
    </div>
</form>

{% endblock %}